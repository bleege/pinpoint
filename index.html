<html>
<head>
	<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />
	<meta charset=utf-8 />
	<title>Pin Point</title>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
	<link href='https://www.mapbox.com/base/latest/base.css' rel='stylesheet' />
	<link href='http://api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.css' rel='stylesheet' />
	<script src='http://api.tiles.mapbox.com/mapbox.js/v1.5.2/mapbox.js'></script>
</head>

<body>

<div id='contentBox' class='note contain'>
	<div class="pad2 fill-blue dark">
		<p>Lat Lon: <span id="latLonText"></span></p>
	</div>
</div>

<div id="map"></div>

<script type="text/javascript">
	var map = L.mapbox.map('map', 'bleege.gnbp044n');
	var marker = L.marker(new L.LatLng(43.07471879831505, -89.3842077255249), {
		icon: L.mapbox.marker.icon({'marker-color': 'CC0000'}),
		draggable: true
	});
	marker.addTo(map);
	displayLatLon(marker.getLatLng());

	marker.on('dragend', function(event) {
		var loc = event.target.getLatLng();
		displayLatLon(loc);
	});

	function displayLatLon(latLon) {
		document.getElementById('latLonText').innerHTML = formatLatLon(latLon);
	}

	function formatLatLon(latLon) {
		return latLon.lat + ", " + latLon.lng;
	}

</script>

</body>

</html>